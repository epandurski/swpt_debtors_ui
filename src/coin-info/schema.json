{
  "definitions": {
    "ResourceReference": {
      "type": "object",
      "properties": {
        "uri": { "type": "string" }
      },
      "required": [ "uri" ]
    },
    "DebtorIdentity": {
      "type": "object",
      "properties": {
        "type":  { "type": "string", "pattern": "^DebtorIdentity$" },
        "uri": { "type": "string", "maxLength": 100 }
      },
      "required": [ "type", "uri" ]
    },
    "CoinPeg": {
      "type": "object",
      "properties": {
        "type":  { "type": "string", "pattern": "^CoinPeg$" },
        "exchangeRate": { "type": "number", "minimum": 0.0 },
        "debtorIdentity": { "$ref": "#/definitions/DebtorIdentity" },
        "latestCoinInfo": { "$ref": "#/definitions/ResourceReference" }
      },
      "required": [ "type", "exchangeRate", "debtorIdentity", "latestCoinInfo" ]
    }
  },  
  "type": "object",
  "properties": {
    "type":  { "type": "string", "pattern": "^CoinInfo$" },
    "uri": { "type": "string", "minLength": 1, "maxLength": 200 },
    "revision": { "type": "integer", "minimum": 0, "maximum": 4294967295 },
    "validUntil": { "type": "string" },
    "latestCoinInfo": { "$ref": "#/definitions/ResourceReference" },
    "debtorIdentity": { "$ref": "#/definitions/DebtorIdentity" },
    "debtorName": { "type": "string", "minLength": 1, "maxLength": 40 },
    "debtorHomepage": { "$ref": "#/definitions/ResourceReference" },
    "amountDevisor": { "type": "number", "minimum": 0.0 },
    "decimalPlaces": { "type": "integer", "minimum": -20, "maximum": 20 },
    "unit": { "type": "string", "minLength": 1, "maxLength": 40 },
    "peg":  { "$ref": "#/definitions/CoinPeg" }
  },
  "required": [
    "type",
    "uri",
    "revision",
    "latestCoinInfo",
    "debtorIdentity",
    "debtorName",
    "amountDevisor",
    "decimalPlaces",
    "unit"
  ],
  "additionalProperties": true
}
